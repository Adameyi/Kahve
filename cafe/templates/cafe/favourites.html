{% extends 'cafe/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-3">
    <div class="row">
        <h2>Favourites</h2>
        {% for product in products_list %}
        {% if product.favourited %}
        <!--Products-->
        <div class="col-md-3">
            <div class="coffeeBrown custom-shadow product position-relative rounded-5 p-4 text-white">
                <h3 class="mb-0">${{ product.price }}</h3>
                <p>{{ product.name }}</p>
                <div class="mt-5">
                    {% if product and product.image %}
                    <img class="mt-5 position-absolute start-50 translate-middle img-fluid" src="{{product.image.url}}"
                        alt="{{ product.name }}">
                    {% else %}
                    <img class="mt-5 position-absolute start-50 translate-middle img-fluid"
                        src="{% static 'images/coffeePlaceholder.png' %}" alt="{{ product.name }}">
                    {% endif %}
                </div>
                <!-- Favourite Button -->
                <form action="{% url 'favourite_product' product_id=product.id %}">
                    <button
                        class="mt-3 me-3 custom-shadow peptoPink rounded-circle position-absolute top-0 end-0 text-white d-flex justify-content-center align-items-center"
                        style="width: 50px; height: 50px;">
                        {% if product.favourited %}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="text-warning"
                            fill="currentColor" style="height: 30px; width: 30px;">
                            <path
                                d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
                        </svg>
                        {% else %}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="coffeeBrownText"
                            fill="currentColor" style="height: 30px; width: 30px;">
                            <path
                                d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
                        </svg>
                        {% endif %}
                    </button>
                </form>
                <!---->


                <!-- Add Button -->
                <button data-bs-toggle="modal" data-bs-target="#productModal{{ product.id }}"
                    class="peptoPink addButton position-absolute bottom-0 end-0 text-white d-flex justify-content-center align-items-center"
                    style="width: 50px; height: 50px;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-75 h-75">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </button>
                <!---->
            </div>
            <div class="position-relative rounded-5 p-3 text-white">
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock content %}